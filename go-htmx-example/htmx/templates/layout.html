{{ define "layout" }}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTMX Example</title>
    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@2.0.3"
        integrity="sha384-0895/pl2MU10Hqc6jd4RvrthNlDiE9U1tWmX7WRESftEDRosgxNsQG/Ze9YMRzHq"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/htmx-ext-ws@2.0.1/ws.js"></script>
    <!-- tailwindcss -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- BootStrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />

</head>

<body>
    {{template "nav-bar" .}}
    <main id="content">
        {{ template "HX-Response" . }}
    </main>
</body>

</html>
{{ end }}

{{define "nav-bar"}}
<header class="min-h-full">
    <nav class=" bg-gray-800">
        <div class="mx-auto max-w-7xl px-4">
            <div class="flex h-16 items-center justify-between">
                <div class="flex items-center gap-6">
                    <div class="flex-shrink-0">
                        <img class="h-12 w-12"
                            src="https://tailwindcss.com/_next/static/media/tailwindcss-mark.3c5441fc7a190fb1800d4a5c7f07ba4b1345a9c8.svg"
                            alt="your company">
                    </div>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium cursor-pointer"
                                hx-get="/" hx-target="#content" hx-swap="innerHTML">Home</a>
                            <a class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium cursor-pointer"
                                hx-get="/multi-select" hx-target="#content" hx-swap="innerHTML">Multi select</a>
                            <a class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium cursor-pointer"
                                hx-get="/external-api" hx-target="#content" hx-swap="innerHTML">External Api</a>
                            <a class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium cursor-pointer"
                                hx-get="/web-socket" hx-target="#content" hx-swap="innerHTML">Web Socket</a>
                            <a class="text-gray-300 hover:bg-gray-700 hover:text-white rounded-md px-3 py-2 text-sm font-medium cursor-pointer"
                                id="oob-target" hx-get="/oob-update" hx-target="#content" hx-swap="innerHTML"
                                hx-swap-oob="true">
                                Oob update
                                <span id="oob-span" hx-get="/get-count" hx-target="#oob-span" hx-swap="outerHTML"
                                    hx-trigger="load"
                                    class="inline-flex items-center px-2 text-white bg-red-500 rounded-full shadow-md">
                                    {{.Count}}
                                </span>

                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</header>
{{end}}
